:root {
    --bg-color: #050a14;
    --card-bg: #111827;
    --card-gradient: linear-gradient(145deg, #1f2937, #111827);
    --primary: #2563eb;
    --primary-glow: rgba(37, 99, 235, 0.4);
    --text-main: #ffffff;
    --text-muted: #9ca3af;
    --accent: #3b82f6;
}

body {
    background-color: var(--bg-color);
    color: var(--text-main);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    margin: 0;
    padding-bottom: 90px;
    overflow-x: hidden;
}

/* Header */
.header { padding: 20px; display: flex; justify-content: space-between; align-items: center; }
.logo-area h1 { margin: 0; font-size: 20px; font-weight: 800; }
.subtitle { margin: 0; font-size: 11px; color: var(--text-muted); opacity: 0.7; }
.badge { background: #1e3a8a; color: #93c5fd; padding: 2px 6px; border-radius: 4px; font-size: 10px; }
.user-rank { display: flex; align-items: center; gap: 8px; background: rgba(255,255,255,0.05); padding: 5px 10px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.1); }
.rank-text { display: flex; flex-direction: column; align-items: flex-end; font-size: 10px; }
.rank-name { font-weight: bold; color: #fbbf24; font-size: 12px; }

/* Bento Cards */
.bento-card {
    background: var(--card-gradient);
    margin: 15px 20px;
    padding: 20px;
    border-radius: 20px;
    border: 1px solid rgba(255,255,255,0.05);
    box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5);
}

/* XP Section */
.xp-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; font-size: 12px; font-weight: bold; color: var(--text-muted); letter-spacing: 1px; }
.xp-badge { background: rgba(251, 191, 36, 0.1); color: #fbbf24; padding: 4px 8px; border-radius: 8px; }
.level-badge { background: var(--primary); color: white; padding: 4px 10px; border-radius: 12px; font-size: 10px; }
.xp-bar-bg { height: 12px; background: rgba(0,0,0,0.3); border-radius: 6px; overflow: hidden; margin-bottom: 8px; }
.xp-bar-fill { height: 100%; background: linear-gradient(90deg, #2563eb, #60a5fa); box-shadow: 0 0 10px var(--primary-glow); }
.xp-footer { text-align: right; font-size: 11px; color: var(--text-muted); }

/* Stats Section */
.section-label { font-size: 10px; text-transform: uppercase; color: var(--text-muted); letter-spacing: 1px; margin-bottom: 5px; }
h2 { font-size: 22px; margin: 5px 0 10px; }
.subtext { font-size: 13px; color: var(--text-muted); margin-bottom: 20px; }
.progress-line-bg { height: 6px; background: rgba(255,255,255,0.1); border-radius: 3px; overflow: hidden; margin-bottom: 15px; }
.quote-box { background: rgba(37, 99, 235, 0.1); border: 1px dashed var(--primary); padding: 15px; border-radius: 12px; text-align: center; font-size: 13px; color: #bfdbfe; }

/* Empty State */
.empty-state-card {
    text-align: center;
    padding: 40px 20px;
    background: linear-gradient(180deg, rgba(17, 24, 39, 0) 0%, rgba(37, 99, 235, 0.1) 100%);
    border-radius: 24px;
    margin: 20px;
}
.rocket-icon { font-size: 48px; margin-bottom: 20px; filter: drop-shadow(0 0 15px rgba(59,130,246,0.6)); }
.action-btn { background: var(--primary); color: white; border: none; padding: 12px 24px; border-radius: 12px; font-weight: bold; margin-top: 15px; cursor: pointer; }

/* Navigation */
.bottom-nav { position: fixed; bottom: 0; width: 100%; background: rgba(5, 10, 20, 0.95); backdrop-filter: blur(12px); border-top: 1px solid rgba(255,255,255,0.1); display: flex; justify-content: space-around; padding: 15px 0 25px; z-index: 100; }
.nav-item { display: flex; flex-direction: column; align-items: center; gap: 5px; color: var(--text-muted); font-size: 10px; opacity: 0.6; }
.nav-item.active { color: var(--primary); opacity: 1; }
.nav-item i { font-size: 20px; }

/* FAB */
.fab { position: fixed; bottom: 100px; right: 20px; width: 56px; height: 56px; border-radius: 50%; background: linear-gradient(135deg, #2563eb, #3b82f6); box-shadow: 0 4px 15px var(--primary-glow); border: none; color: white; font-size: 24px; z-index: 99; display: flex; align-items: center; justify-content: center; }

/* Modal */
.hidden { display: none; }
#modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 200; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(4px); }
.modal-content { background: #1f2937; padding: 25px; border-radius: 20px; width: 80%; text-align: center; border: 1px solid rgba(255,255,255,0.1); }
.modal-content input { width: 90%; padding: 10px; margin: 15px 0; background: #111827; border: 1px solid #374151; color: white; border-radius: 8px; }
.modal-actions { display: flex; gap: 10px; justify-content: center; }
.modal-actions button { padding: 8px 16px; border-radius: 8px; border: none; cursor: pointer; }
.modal-actions .primary { background: var(--primary); color: white; }

/* --- HABIT ITEMS (Generated by JS) --- */
.habit-item {
    background: rgba(30, 41, 59, 0.7); /* Slightly lighter than card-bg */
    margin-bottom: 10px;
    padding: 12px 15px;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.05);
    transition: all 0.2s ease;
    cursor: pointer;
    display: flex; /* Ensure flex layout works */
    flex-direction: column; /* Allow internal content to stack if needed */
}

.habit-item:active {
    transform: scale(0.98);
    background: rgba(37, 99, 235, 0.1); /* Touch feedback */
}

/* Completed State */
.habit-item.completed {
    background: linear-gradient(90deg, rgba(16, 185, 129, 0.2) 0%, rgba(6, 78, 59, 0.2) 100%);
    border-left: 4px solid #10b981; /* Green accent */
}

.habit-item.completed h4 {
    text-decoration: line-through;
    color: #6ee7b7; /* Lighter green text */
}

/* Habit Icon Area */
.habit-icon {
    width: 36px; height: 36px;
    background: rgba(255,255,255,0.1);
    border-radius: 10px;
    display: flex; align-items: center; justify-content: center;
    font-size: 18px;
}

/* Custom Checkbox */
.checkbox {
    width: 24px; height: 24px;
    border: 2px solid #475569;
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.2s;
}

.checkbox.checked {
    background: #10b981; /* Success Green */
    border-color: #10b981;
    color: white;
    box-shadow: 0 0 10px rgba(16, 185, 129, 0.4);
}

/* Modal Animation & Polish */
.modal-content {
    animation: slideUp 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);
}

@keyframes slideUp {
    from { transform: translateY(50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}
