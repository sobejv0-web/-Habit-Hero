<!doctype html>
<html lang="uk">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Habit System WebApp</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/app/app.css?v=202602131245" />
  </head>
  <body>
  <div style="position:fixed; top:0; left:0; width:100%; height:50px; background:red; color:white; z-index:999999; display:flex; align-items:center; justify-content:center; font-weight:bold; font-size:16px;">
      üö® LOADED FILE: public/webapp/index.html üö®
  </div>
    <div
      id="debug-overlay"
      style="position:fixed; top:0; left:0; width:100%; height:200px; background:rgba(0,0,0,0.9); color:#00ff00; z-index:99999; overflow:scroll; font-family:monospace; font-size:10px; pointer-events:none; padding:10px; border-bottom: 2px solid red;"
    >
      DEBUG LOG ACTIVATED...<br />
    </div>

    <script>
      // Redirect console logs and errors to the overlay
      const debugDiv = document.getElementById('debug-overlay');

      function logToScreen(msg, color = 'white') {
        debugDiv.innerHTML += `<span style="color:${color}">> ${msg}</span><br>`;
        debugDiv.scrollTop = debugDiv.scrollHeight;
      }

      window.onerror = function (message, source, lineno, colno, error) {
        logToScreen(`CRITICAL ERROR: ${message} at line ${lineno}`, 'red');
        return false;
      };

      console.log = function (...args) {
        logToScreen(args.join(' '));
      };

      console.error = function (...args) {
        logToScreen(args.join(' '), 'red');
      };

      logToScreen('App initialized. Waiting for JS...', 'yellow');
    </script>

    <div class="app-shell" id="app-shell">
      <header class="topbar">
        <div class="brand-block">
          <div class="brand-row">
            <div class="brand">Habit System</div>
            <span class="version-badge">v5.0 PRO (Beta)</span>
          </div>
          <div class="subtitle">Telegram WebApp</div>
        </div>
        <div class="status" id="status-pill">Connected</div>
      </header>

      <main class="content" id="tab-container">
        <section class="panel is-active" id="tab-dashboard" data-tab="dashboard">
          <div class="panel-head">
            <h1>–°—å–æ–≥–æ–¥–Ω—ñ</h1>
            <p>–¢–≤—ñ–π —Ñ–æ–∫—É—Å –Ω–∞ –¥–µ–Ω—å, –±–µ–∑ –∑–∞–π–≤–∏—Ö –º–µ–Ω—é.</p>
          </div>
          <div class="dashboard" id="dashboard">
            <div class="dashboard-skeleton" id="dashboard-skeleton">
              <div class="bento-grid">
                <div class="card bento-card hero-card">
                  <div class="skeleton skeleton--line skeleton--line-md"></div>
                  <div class="skeleton skeleton--line skeleton--line-sm"></div>
                  <div class="skeleton skeleton--row"></div>
                </div>
                <div class="card bento-card habit-card">
                  <div class="skeleton skeleton--line skeleton--line-md"></div>
                  <div class="skeleton skeleton--line skeleton--line-sm"></div>
                </div>
                <div class="card bento-card habit-card">
                  <div class="skeleton skeleton--line skeleton--line-md"></div>
                  <div class="skeleton skeleton--line skeleton--line-sm"></div>
                </div>
                <div class="card bento-card habit-card">
                  <div class="skeleton skeleton--line skeleton--line-md"></div>
                  <div class="skeleton skeleton--line skeleton--line-sm"></div>
                </div>
                <div class="card bento-card habit-card">
                  <div class="skeleton skeleton--line skeleton--line-md"></div>
                  <div class="skeleton skeleton--line skeleton--line-sm"></div>
                </div>
              </div>
              <div class="card stats-strip">
                <div class="skeleton skeleton--line skeleton--line-md"></div>
                <div class="skeleton skeleton--line skeleton--line-sm"></div>
                <div class="skeleton skeleton--line skeleton--line-lg"></div>
              </div>
            </div>

            <div class="card card--md dashboard-error" id="dashboard-error" hidden>
              <div>
                <div class="row__title">–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏</div>
                <div class="row__subtitle">–ü–µ—Ä–µ–≤—ñ—Ä —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç —ñ —Å–ø—Ä–æ–±—É–π —â–µ —Ä–∞–∑.</div>
              </div>
              <button class="secondary" id="dashboard-retry" type="button">
                –ü–æ–≤—Ç–æ—Ä–∏—Ç–∏
              </button>
            </div>

            <div class="dashboard-content" id="dashboard-content" hidden>
              <div class="bento-grid" id="bento-grid">
                <section class="card bento-card hero-card" id="hero-card">
                  <div class="hero-kicker" id="hero-kicker">–§–æ–∫—É—Å –¥–Ω—è</div>
                  <div class="hero-title" id="hero-title">...</div>
                  <div class="hero-sub" id="hero-sub">...</div>
                  <div class="hero-meta">
                    <div class="hero-progress" id="hero-progress"></div>
                    <div class="hero-cta" id="hero-cta">–ü–æ—á–∞—Ç–∏</div>
                  </div>
                  <div class="hero-hint" id="hero-hint" hidden></div>
                </section>
                <div class="bento-grid__items" id="bento-items"></div>
              </div>

              <section class="card stats-strip" id="stats-strip">
                <div class="stats-strip__main">
                  <div class="stats-strip__value" id="stats-progress">0/0</div>
                  <div class="stats-strip__label">–≤–∏–∫–æ–Ω–∞–Ω–æ —Å—å–æ–≥–æ–¥–Ω—ñ</div>
                </div>
                <div class="stats-strip__meta" id="stats-meta"></div>
                <div class="stats-strip__bar">
                  <span id="stats-strip-bar"></span>
                </div>
              </section>

              <div class="dashboard-trial" id="dashboard-trial" hidden></div>
              <div class="bento-footer" id="bento-footer"></div>
            </div>

            <div class="card card--md empty-state" id="dashboard-empty" hidden>
              <h2>–ü–æ—á–Ω–∏ –∑ –ø–µ—Ä—à–æ—ó –∑–≤–∏—á–∫–∏</h2>
              <p>–î–æ–¥–∞–π —â–æ—Å—å –ø—Ä–æ—Å—Ç–µ, —â–æ–± —É–≤—ñ–π—Ç–∏ –≤ —Ä–∏—Ç–º.</p>
              <button class="primary" id="dashboard-empty-cta" type="button">
                –î–æ–¥–∞—Ç–∏ –∑–≤–∏—á–∫—É
              </button>
            </div>
          </div>
        </section>

        <section class="panel" id="tab-habits" data-tab="habits">
          <div class="panel-head">
            <h1>–ó–≤–∏—á–∫–∏</h1>
            <p>–¢—É—Ç –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏, –∑–º—ñ–Ω–∏—Ç–∏ —Ç–∞ –≤–ø–æ—Ä—è–¥–∫—É–≤–∞—Ç–∏.</p>
          </div>
          <div class="habits" id="habits">
            <div class="habits-skeleton" id="habits-skeleton">
              <div class="card card--md">
                <div class="skeleton skeleton--line skeleton--line-md"></div>
                <div class="skeleton skeleton--row"></div>
                <div class="skeleton skeleton--row"></div>
              </div>
            </div>

            <div class="card card--md habits-empty" id="habits-empty" hidden>
              <h2>–î–æ–¥–∞–π –ø–µ—Ä—à—É –∑–≤–∏—á–∫—É</h2>
              <p>–ü–æ—á–Ω–∏ –∑ –º–∞–ª–æ–≥–æ ‚Äî –æ–¥–Ω–∞ –∑–≤–∏—á–∫–∞ –≤–∂–µ –¥–∞—î —Ä–∏—Ç–º.</p>
              <button class="primary" id="habits-empty-cta" type="button">
                –î–æ–¥–∞—Ç–∏ –ø–µ—Ä—à—É –∑–≤–∏—á–∫—É
              </button>
            </div>

            <div class="habits-content" id="habits-content" hidden>
              <div class="card card--md habit-add" id="habit-add-card">
                <div class="habit-add__title">–ù–æ–≤–∞ –∑–≤–∏—á–∫–∞</div>
                <div class="inline-form">
                  <div class="inline-form__field">
                    <input
                      class="input"
                      id="habit-add-input"
                      type="text"
                      placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –í–æ–¥–∞"
                      autocomplete="off"
                    />
                  </div>
                  <div class="inline-form__actions">
                    <button class="primary" id="habit-add-btn" type="button">–î–æ–¥–∞—Ç–∏</button>
                    <button
                      class="ghost habit-add-cancel"
                      id="habit-add-cancel"
                      type="button"
                    >
                      –°–∫–∞—Å—É–≤–∞—Ç–∏
                    </button>
                  </div>
                </div>
                <div class="chip-list" id="habit-quick-chips">
                  <button class="chip-btn" data-title="–í–æ–¥–∞" type="button">–í–æ–¥–∞</button>
                  <button class="chip-btn" data-title="–ü—Ä–æ–≥—É–ª—è–Ω–∫–∞" type="button">
                    –ü—Ä–æ–≥—É–ª—è–Ω–∫–∞
                  </button>
                  <button class="chip-btn" data-title="–ß–∏—Ç–∞–Ω–Ω—è" type="button">–ß–∏—Ç–∞–Ω–Ω—è</button>
                  <button class="chip-btn" data-title="–ê–Ω–≥–ª—ñ–π—Å—å–∫–∞" type="button">
                    –ê–Ω–≥–ª—ñ–π—Å—å–∫–∞
                  </button>
                  <button class="chip-btn" data-title="–†–æ–∑—Ç—è–∂–∫–∞" type="button">
                    –†–æ–∑—Ç—è–∂–∫–∞
                  </button>
                  <button class="chip-btn" data-title="–°–æ–Ω" type="button">–°–æ–Ω</button>
                </div>
                <p class="hint" id="habit-add-hint">–î–æ 3 –∑–≤–∏—á–æ–∫ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ.</p>
              </div>

              <div class="list habits-list" id="habits-list"></div>

              <div class="card card--sm locked-card" id="habits-locked" hidden>
                <div class="locked-card__header">
                  <div>
                    <div class="row__title">–ë–µ–∑–ª—ñ–º—ñ—Ç–Ω—ñ –∑–≤–∏—á–∫–∏</div>
                    <div class="row__subtitle">Premium</div>
                  </div>
                  <button class="secondary" type="button">–í—ñ–¥–∫—Ä–∏—Ç–∏ Premium</button>
                </div>
                <div class="locked-card__preview">
                  <div class="skeleton skeleton--line skeleton--line-md"></div>
                  <div class="skeleton skeleton--line skeleton--line-sm"></div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="panel" id="tab-stats" data-tab="stats">
          <div class="panel-head">
            <h1>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h1>
            <p>–ü—Ä–æ–≥—Ä–µ—Å —ñ —Ä–∏—Ç–º –±–µ–∑ –∑–∞–π–≤–∏—Ö –¥–µ—Ç–∞–ª–µ–π.</p>
          </div>
          <div class="stats" id="stats">
            <div class="stats-skeleton" id="stats-skeleton">
              <div class="card card--md">
                <div class="skeleton skeleton--line skeleton--line-md"></div>
                <div class="skeleton skeleton--row"></div>
              </div>
              <div class="card card--md">
                <div class="skeleton skeleton--line skeleton--line-md"></div>
                <div class="skeleton skeleton--line skeleton--line-sm"></div>
                <div class="skeleton skeleton--row"></div>
              </div>
              <div class="card card--md">
                <div class="skeleton skeleton--line skeleton--line-md"></div>
                <div class="skeleton skeleton--heatmap"></div>
              </div>
            </div>

            <div class="card card--md empty-state" id="stats-empty" hidden>
              <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑ º—è–≤–∏—Ç—å—Å—è –Ω–µ–∑–∞–±–∞—Ä–æ–º</h2>
              <p>–ü—ñ—Å–ª—è –∫—ñ–ª—å–∫–æ—Ö –¥–Ω—ñ–≤ —Ä–∏—Ç–º—É —Ç—É—Ç –±—É–¥–µ —Ç–≤—ñ–π –ø—Ä–æ–≥—Ä–µ—Å.</p>
            </div>

            <div class="stats-content" id="stats-content" hidden>
              <div class="segmented segmented--2" id="stats-range" data-active="0">
                <button class="segmented__item is-active" data-range="7" type="button">
                  7 –¥–Ω—ñ–≤
                </button>
                <button class="segmented__item" data-range="30" type="button">
                  30 –¥–Ω—ñ–≤
                </button>
                <span class="segmented__indicator" aria-hidden="true"></span>
              </div>

              <div class="stats-cards">
                <div class="card card--md stat-card">
                  <div class="stat-label">–°–µ—Ä—ñ—è</div>
                  <div class="stat-value" id="stats-streak">‚Äî</div>
                  <div class="stat-caption">–∫—Ä–∞—â–∏–π —Ä–∏—Ç–º –∑–∞—Ä–∞–∑</div>
                </div>
                <div class="card card--md stat-card">
                  <div class="stat-label">–í–∏–∫–æ–Ω–∞–Ω–Ω—è</div>
                  <div class="stat-value" id="stats-completion">‚Äî</div>
                  <div class="stat-caption">—Å–µ—Ä–µ–¥–Ω—ñ–π –≤—ñ–¥—Å–æ—Ç–æ–∫</div>
                </div>
                <div class="card card--md stat-card">
                  <div class="stat-label">–ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å</div>
                  <div class="stat-value" id="stats-consistency">‚Äî</div>
                  <div class="stat-caption">–¥–Ω—ñ–≤ –∑ —Ñ–æ–∫—É—Å–æ–º</div>
                </div>
              </div>

              <div class="card card--md chart-card">
                <div class="chart-header">
                  <div class="row__title">–û—Å—Ç–∞–Ω–Ω—ñ –¥–Ω—ñ</div>
                  <div class="row__subtitle" id="stats-chart-caption">...</div>
                </div>
                <div class="chart" id="stats-chart">
                  <div class="chart-bars" id="stats-bars"></div>
                  <div class="chart-labels" id="stats-labels"></div>
                  <div class="chart-tooltip" id="stats-tooltip" hidden></div>
                </div>
              </div>

              <div class="card card--md heatmap-card" id="stats-heatmap-card">
                <div class="chart-header">
                  <div class="row__title">Heatmap</div>
                  <div class="row__subtitle" id="stats-heatmap-subtitle">–û—Å—Ç–∞–Ω–Ω—ñ 365 –¥–Ω—ñ–≤</div>
                </div>
                <div class="heatmap-months" id="stats-heatmap-months"></div>
                <div class="heatmap-skeleton" id="stats-heatmap-skeleton">
                  <div class="skeleton skeleton--heatmap"></div>
                </div>
                <div class="heatmap" id="stats-heatmap-grid" hidden></div>
                <div class="heatmap-empty" id="stats-heatmap-empty" hidden>
                  –†–∏—Ç–º —Å—Ç–∞–Ω–µ –≤–∏–¥–∏–º–∏–º –ø—ñ—Å–ª—è –∫—ñ–ª—å–∫–æ—Ö –¥–Ω—ñ–≤.
                </div>
                <div class="heatmap-lock" id="stats-heatmap-lock" hidden>
                  <div class="heatmap-lock__icon">üîí</div>
                  <div class="heatmap-lock__text">Premium Insight</div>
                </div>
                <div class="heatmap-legend">
                  <span class="legend-label">–ú–µ–Ω—à–µ</span>
                  <span class="box hm-0" aria-hidden="true"></span>
                  <span class="box hm-1" aria-hidden="true"></span>
                  <span class="box hm-2" aria-hidden="true"></span>
                  <span class="box hm-3" aria-hidden="true"></span>
                  <span class="legend-label">–ë—ñ–ª—å—à–µ</span>
                </div>
                <div class="heatmap-hint" id="stats-heatmap-hint" hidden>
                  365 –¥–Ω—ñ–≤ —ñ—Å—Ç–æ—Ä—ñ—ó ‚Äî Premium
                </div>
                <div class="heatmap-tooltip" id="stats-heatmap-tooltip" hidden></div>
              </div>

              <div class="stats-locked" id="stats-locked">
                <div class="card card--md locked-card locked-card--blur">
                  <div class="locked-card__header">
                    <div>
                      <div class="row__title">–Ü—Å—Ç–æ—Ä—ñ—è –∑–≤–∏—á–æ–∫</div>
                      <div class="row__subtitle">–ö–∞–ª–µ–Ω–¥–∞—Ä –∑—ñ —â–æ–¥–µ–Ω–Ω–∏–º–∏ –ø–æ–∑–Ω–∞—á–∫–∞–º–∏.</div>
                    </div>
                    <button class="secondary" type="button">–í—ñ–¥–∫—Ä–∏—Ç–∏ Premium</button>
                  </div>
                  <div class="locked-card__preview">
                    <div class="skeleton skeleton--line skeleton--line-md"></div>
                    <div class="skeleton skeleton--line skeleton--line-sm"></div>
                  </div>
                </div>
                <div class="card card--md locked-card locked-card--blur">
                  <div class="locked-card__header">
                    <div>
                      <div class="row__title">–†–æ–∑—É–º–Ω—ñ —Ç—Ä–µ–Ω–¥–∏</div>
                      <div class="row__subtitle">–¢—Ä–µ–Ω–¥–∏ —ñ –Ω–∞–π–∫—Ä–∞—â—ñ –≥–æ–¥–∏–Ω–∏.</div>
                    </div>
                    <button class="secondary" type="button">–í—ñ–¥–∫—Ä–∏—Ç–∏ Premium</button>
                  </div>
                  <div class="locked-card__preview">
                    <div class="skeleton skeleton--line skeleton--line-md"></div>
                    <div class="skeleton skeleton--line skeleton--line-sm"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="panel" id="tab-settings" data-tab="settings">
          <div class="panel-head panel-head--settings">
            <div class="panel-head__intro">
              <h1>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h1>
              <p>–ü—Ä–æ—Ñ—ñ–ª—å, –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è —ñ –≤–∏–≥–ª—è–¥.</p>
            </div>
            <div class="settings-head" id="settings-head">
              <div class="settings-avatar" id="settings-avatar" aria-label="User avatar">
                <span class="settings-avatar__text" id="settings-avatar-text">U</span>
                <span class="settings-pro-badge" id="settings-pro-badge" hidden>PRO</span>
              </div>
              <button class="secondary settings-go-pro" id="settings-go-pro" type="button">
                Go Pro
              </button>
            </div>
          </div>
          <div class="settings" id="settings">
            <div class="settings-skeleton" id="settings-skeleton">
              <div class="card card--md">
                <div class="skeleton skeleton--line skeleton--line-md"></div>
                <div class="skeleton skeleton--row"></div>
              </div>
            </div>

            <div class="settings-content" id="settings-content" hidden>
              <section class="card card--md settings-card">
                <div class="settings-card__header">
                  <div>
                    <div class="row__title">–ü—Ä–æ—Ñ—ñ–ª—å</div>
                    <div class="row__subtitle">
                      –ß–∞—Å–æ–≤–∞ –∑–æ–Ω–∞ —ñ –º–æ–≤–∞ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–∞ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è.
                    </div>
                  </div>
                </div>
                <div class="settings-field">
                  <label class="field-label" for="settings-timezone">–ß–∞—Å–æ–≤–∞ –∑–æ–Ω–∞</label>
                  <input class="input" id="settings-timezone" type="text" readonly />
                  <div class="settings-helper">–ó–º—ñ–Ω–∏—Ç–∏ –º–æ–∂–Ω–∞ —á–µ—Ä–µ–∑ /tz —É –±–æ—Ç—ñ.</div>
                </div>
                <div class="settings-field">
                  <label class="field-label" for="settings-language">–ú–æ–≤–∞</label>
                  <input
                    class="input"
                    id="settings-language"
                    type="text"
                    readonly
                    value="–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞"
                  />
                </div>
              </section>

              <section class="card card--md settings-card">
                <div class="settings-card__header">
                  <div>
                    <div class="row__title">–ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è</div>
                    <div class="row__subtitle">
                      –ü–æ–∫–∏ —â–æ –ø—Ä–∞—Ü—é—é—Ç—å —Ç—ñ–ª—å–∫–∏ —á–µ—Ä–µ–∑ –±–æ—Ç–∞.
                    </div>
                  </div>
                </div>
                <div class="settings-row">
                  <div>
                    <div class="row__title">–£–≤—ñ–º–∫–Ω—É—Ç–∏ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è</div>
                    <div class="row__subtitle">Telegram-–±–æ—Ç</div>
                  </div>
                  <button
                    class="toggle"
                    id="settings-reminders-toggle"
                    type="button"
                    aria-pressed="true"
                    disabled
                  >
                    <span class="toggle__thumb"></span>
                  </button>
                </div>
                <div class="settings-field">
                  <label class="field-label" for="settings-reminder-time">–ß–∞—Å</label>
                  <input class="input" id="settings-reminder-time" type="time" step="60" />
                </div>
                <div class="settings-helper">
                  –ß–∞—Å –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è. –ü–µ—Ä–µ–º–∏–∫–∞—á —É–≤—ñ–º–∫./–≤–∏–º–∫. ‚Äî —Å–∫–æ—Ä–æ –≤ Premium.
                </div>
              </section>

              <section class="card card--md settings-card" id="settings-partner-card">
                <div class="settings-card__header">
                  <div>
                    <div class="row__title">–ü–∞—Ä—Ç–Ω–µ—Ä –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ</div>
                    <div class="row__subtitle">
                      –û–¥–∏–Ω –¥—Ä—É–≥. –û–¥–Ω–µ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –æ 21:00, —è–∫—â–æ –¥–µ–Ω—å –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ.
                    </div>
                  </div>
                  <span class="status-pill" id="partner-status">–ù–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ</span>
                </div>
                <div class="partner-body">
                  <div class="partner-empty" id="partner-empty" hidden>
                    <div class="partner-note">
                      –ó–∞–ø—Ä–æ—Å–∏ –¥—Ä—É–≥–∞ —á–µ—Ä–µ–∑ Telegram. –ü–æ—Ç—Ä—ñ–±–Ω–∞ —è–≤–Ω–∞ –∑–≥–æ–¥–∞.
                    </div>
                    <div class="partner-meta" id="partner-check-time"></div>
                    <div class="partner-actions">
                      <button class="primary" id="partner-invite-btn" type="button">
                        –ó–∞–ø—Ä–æ—Å–∏—Ç–∏ –¥—Ä—É–≥–∞
                      </button>
                      <button class="ghost" id="partner-copy-btn" type="button">
                        –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –ª—ñ–Ω–∫
                      </button>
                    </div>
                  </div>
                  <div class="partner-connected" id="partner-connected" hidden>
                    <div class="partner-note">
                      –ü–∞—Ä—Ç–Ω–µ—Ä –º–æ–∂–µ –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ –æ–¥–∏–Ω –¥—Ä—É–∂–Ω—ñ–π –ø–æ—à—Ç–æ–≤—Ö –Ω–∞ –¥–µ–Ω—å.
                    </div>
                    <div class="partner-meta" id="partner-username"></div>
                    <div class="partner-meta" id="partner-check-time-connected"></div>
                    <div class="partner-actions">
                      <button class="secondary" id="partner-unlink-btn" type="button">
                        –í—ñ–¥ º—î–¥–Ω–∞—Ç–∏
                      </button>
                    </div>
                  </div>
                  <div class="partner-premium-hint" id="partner-premium-hint" hidden>
                    –°–æ—Ü—ñ–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å ‚Äî Premium —Ñ—ñ—á–∞.
                  </div>
                </div>
              </section>

              <section
                class="card card--md settings-card locked-card locked-card--blur"
                id="settings-appearance-locked"
              >
                <div class="locked-card__header">
                  <div>
                    <div class="row__title">–í–∏–≥–ª—è–¥</div>
                    <div class="row__subtitle">Auto / Dark / Light</div>
                  </div>
                  <button class="secondary" type="button">–í—ñ–¥–∫—Ä–∏—Ç–∏ Premium</button>
                </div>
                <div class="locked-card__preview">
                  <div class="skeleton skeleton--line skeleton--line-md"></div>
                  <div class="skeleton skeleton--line skeleton--line-sm"></div>
                </div>
              </section>

              <section class="card card--md settings-card" id="settings-premium-card">
                <div class="row__title">Premium</div>
                <div class="row__subtitle" id="premium-subtitle">
                  –û—Ç—Ä–∏–º–∞–π 7 –¥–Ω—ñ–≤ Premium ‚Äî –∑–∞–ø—Ä–æ—Å–∏ –¥—Ä—É–≥–∞
                </div>
                <div class="premium-status" id="premium-status" hidden></div>
                <div class="trial-progress" id="premium-trial-progress" hidden>
                  <span class="trial-progress__bar" id="premium-trial-bar"></span>
                </div>
                <div class="trial-progress__labels" id="premium-trial-labels" hidden>
                  <span>7 –¥–Ω—ñ–≤</span>
                  <span>0</span>
                </div>
                <ul class="settings-list">
                  <li>–ë–µ–∑–ª—ñ–º—ñ—Ç–Ω—ñ –∑–≤–∏—á–∫–∏</li>
                  <li>–†—É—Ç–∏–Ω–∏ —Ç–∞ Focus Mode</li>
                  <li>Heatmap 365 –¥–Ω—ñ–≤</li>
                  <li>–Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω—ñ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è</li>
                </ul>
                <button class="secondary" type="button" id="premium-invite-btn">
                  –ó–∞–ø—Ä–æ—Å–∏—Ç–∏ –¥—Ä—É–≥–∞
                </button>
                <button class="ghost" type="button" id="premium-after-btn" hidden>
                  –î—ñ–∑–Ω–∞—Ç–∏—Å—å —â–æ –±—É–¥–µ –ø—ñ—Å–ª—è trial
                </button>
                <div class="premium-after-note" id="premium-after-note" hidden>
                  –ü—ñ—Å–ª—è trial —á–∞—Å—Ç–∏–Ω–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π —Å—Ç–∞–Ω–µ Premium: Focus Mode, Heatmap 365 —Ç–∞
                  –±–µ–∑–ª—ñ–º—ñ—Ç–Ω—ñ –∑–≤–∏—á–∫–∏.
                </div>
              </section>

              <section class="card card--md settings-card" id="settings-debug-card">
                <div class="row__title">Debug</div>
                <div class="row__subtitle">–¢–∏–º—á–∞—Å–æ–≤—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –¥–µ–ø–ª–æ—é.</div>
                <div class="settings-helper" id="settings-user-id">UserID: ...</div>
                <button class="secondary" type="button" id="settings-test-premium">
                  Test Premium Modal
                </button>
              </section>

              <section class="card card--md settings-card">
                <div class="row__title">–ü—Ä–æ —Å–µ—Ä–≤—ñ—Å</div>
                <div class="row__subtitle">–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —ñ —é—Ä–∏–¥–∏—á–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è.</div>
                <div class="settings-field">
                  <label class="field-label" for="settings-version">–í–µ—Ä—Å—ñ—è</label>
                  <input
                    class="input"
                    id="settings-version"
                    type="text"
                    readonly
                    value="2026.02.13"
                  />
                </div>
                <div class="settings-links">
                  <button class="ghost" type="button">–£–º–æ–≤–∏</button>
                  <button class="ghost" type="button">–ü–æ–ª—ñ—Ç–∏–∫–∞</button>
                  <button class="ghost" type="button">–ó–≤ º—è–∑–∞—Ç–∏—Å—å –∑ –±–æ—Ç–æ–º</button>
                </div>
              </section>
            </div>
          </div>
        </section>
      </main>

      <nav class="tabbar" role="tablist" aria-label="Main tabs">
        <button class="tabbar__item is-active" data-tab="dashboard" aria-selected="true">
          <span class="tabbar__icon">‚óªÔ∏é</span>
          <span class="tabbar__label">Dashboard</span>
        </button>
        <button class="tabbar__item" data-tab="habits" aria-selected="false">
          <span class="tabbar__icon">‚óé</span>
          <span class="tabbar__label">Habits</span>
        </button>
        <button class="tabbar__item" data-tab="stats" aria-selected="false">
          <span class="tabbar__icon">‚ñ¶</span>
          <span class="tabbar__label">Stats</span>
        </button>
        <button class="tabbar__item" data-tab="settings" aria-selected="false">
          <span class="tabbar__icon">‚öôÔ∏é</span>
          <span class="tabbar__label">Settings</span>
        </button>
      </nav>
    </div>

    <div class="overlay" id="telegram-only" hidden>
      <div class="overlay-card">
        <h2>–í—ñ–¥–∫—Ä–∏–π —É Telegram</h2>
        <p>–¶–µ–π WebApp –ø—Ä–∞—Ü—é—î –ª–∏—à–µ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ Telegram.</p>
      </div>
    </div>

    <div class="sheet-backdrop" id="sheet-backdrop" hidden></div>
    <div class="sheet" id="habit-sheet" hidden role="dialog" aria-modal="true">
      <div class="sheet-handle" aria-hidden="true"></div>
      <div class="sheet-title" id="habit-sheet-title">...</div>
      <button class="sheet-item" data-action="edit-habit" data-scope="habit" type="button">
        –†–µ–¥–∞–≥—É–≤–∞—Ç–∏
      </button>
      <button
        class="sheet-item sheet-item--danger"
        data-action="delete-habit"
        data-scope="habit"
        type="button"
      >
        –í–∏–¥–∞–ª–∏—Ç–∏
      </button>
      <button
        class="sheet-item sheet-item--locked"
        data-action="reset"
        data-scope="habit"
        type="button"
        disabled
      >
        –°–∫–∏–Ω—É—Ç–∏ —Å–µ—Ä—ñ—é (Premium)
      </button>
      <button class="sheet-item" data-action="edit-routine" data-scope="routine" type="button">
        –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ä—É—Ç–∏–Ω—É
      </button>
      <button
        class="sheet-item sheet-item--danger"
        data-action="delete-routine"
        data-scope="routine"
        type="button"
      >
        –í–∏–¥–∞–ª–∏—Ç–∏ —Ä—É—Ç–∏–Ω—É
      </button>
      <button class="sheet-item sheet-item--ghost" data-action="close" type="button">
        –ó–∞–∫—Ä–∏—Ç–∏
      </button>
    </div>

    <div class="sheet-backdrop" id="trial-backdrop" hidden></div>
    <div class="sheet trial-sheet" id="trial-sheet" hidden role="dialog" aria-modal="true">
      <div class="sheet-handle" aria-hidden="true"></div>
      <div class="trial-sheet__title" id="trial-sheet-title">–¢–∏ –≤–∂–µ 5 –¥–Ω—ñ–≤ –∑ –Ω–∞–º–∏ üí™</div>
      <div class="trial-sheet__body" id="trial-sheet-body">
        –•–æ—á–µ—à –∑–±–µ—Ä–µ–≥—Ç–∏ –ø—Ä–æ–≥—Ä–µ—Å, —Ä—É—Ç–∏–Ω–∏ —Ç–∞ –ø–æ–≤–Ω—É —ñ—Å—Ç–æ—Ä—ñ—é?
      </div>
      <div class="trial-sheet__actions">
        <button class="primary" id="trial-sheet-accept" type="button">
          –ó–∞–ª–∏—à–∏—Ç–∏ Premium
        </button>
        <button class="ghost" id="trial-sheet-later" type="button">–ü—ñ–∑–Ω—ñ—à–µ</button>
      </div>
    </div>

    <div class="premium-backdrop" id="premium-backdrop" hidden></div>
    <div
      class="premium-modal"
      id="premium-modal"
      hidden
      role="dialog"
      aria-modal="true"
      aria-labelledby="premium-modal-title"
    >
      <div class="premium-modal__halo" aria-hidden="true"></div>
      <button class="premium-modal__close" id="premium-modal-close" type="button" aria-label="Close">
        ‚úï
      </button>
      <div class="premium-modal__eyebrow">Premium</div>
      <h2 class="premium-modal__title" id="premium-modal-title">Unlock Your Full Potential üíé</h2>
      <ul class="premium-modal__list">
        <li>‚úÖ Unlimited Habits</li>
        <li>üìä Full History & Heatmap</li>
        <li>üõ°Ô∏è Streak Shield</li>
        <li>üé® Exclusive Themes</li>
      </ul>
      <button class="premium-modal__cta" id="premium-modal-cta" type="button">
        Upgrade for $9.99/mo
      </button>
      <button class="premium-modal__ghost" id="premium-modal-later" type="button">
        Not now
      </button>
    </div>

    <div class="focus-overlay" id="focus-overlay" hidden>
      <div class="focus-surface">
        <div class="focus-top">
          <div class="focus-top__info">
            <div class="focus-routine" id="focus-routine">–†–∞–Ω–æ–∫</div>
            <div class="focus-step" id="focus-step">–ö—Ä–æ–∫ 1 –∑ 3</div>
          </div>
          <button class="ghost focus-exit" id="focus-exit" type="button" aria-label="–ó–∞–∫—Ä–∏—Ç–∏">
            ‚úï
          </button>
        </div>
        <div class="focus-progress">
          <span id="focus-progress-bar"></span>
        </div>
        <div class="focus-center">
          <div class="focus-title" id="focus-title">...</div>
          <div class="focus-sub" id="focus-sub">...</div>
          <div class="focus-next" id="focus-next"></div>
          <div class="focus-timer" id="focus-timer" hidden>
            <div class="focus-timer__value" id="focus-timer-value">05:00</div>
            <button class="secondary" id="focus-timer-toggle" type="button">–°—Ç–∞—Ä—Ç</button>
          </div>
        </div>
        <div class="focus-bottom">
          <button class="primary focus-done" id="focus-done" type="button">–ó—Ä–æ–±–ª–µ–Ω–æ ‚úÖ</button>
          <button class="ghost focus-skip" id="focus-skip" type="button">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç–∏</button>
        </div>
        <div class="focus-confirm" id="focus-confirm" hidden>
          <div class="focus-confirm__card">
            <div class="focus-confirm__title" id="focus-confirm-title">–í–∏–π—Ç–∏ –∑ —Ä—É—Ç–∏–Ω–∏?</div>
            <div class="focus-confirm__text" id="focus-confirm-text">
              –¢–∏ –∑–º–æ–∂–µ—à –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –ø—ñ–∑–Ω—ñ—à–µ. –ü—Ä–æ–≥—Ä–µ—Å –∑–±–µ—Ä–µ–∂–µ–Ω–æ.
            </div>
            <div class="focus-confirm__actions">
              <button class="primary" id="focus-confirm-cancel" type="button">
                –ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏
              </button>
              <button class="secondary" id="focus-confirm-exit" type="button">
                –í–∏–π—Ç–∏
              </button>
            </div>
          </div>
        </div>
        <div class="focus-complete" id="focus-complete" hidden>
          <div class="focus-complete__title">–†–∞–Ω–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–æ</div>
          <div class="focus-complete__text">–°–ø–æ–∫—ñ–π–Ω–∏–π —Ä–∏—Ç–º –Ω–∞ –º—ñ—Å—Ü—ñ.</div>
          <div class="focus-complete__meta" id="focus-complete-meta">0/0 –≤–∏–∫–æ–Ω–∞–Ω–æ</div>
          <div class="focus-complete__badge" id="focus-complete-badge" hidden>
            Perfect routine
          </div>
          <button class="primary" id="focus-complete-exit" type="button">
            –ù–∞–∑–∞–¥ –Ω–∞ Dashboard
          </button>
        </div>
      </div>
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="/app/app.js?v=202602131245"></script>
  </body>
</html>
